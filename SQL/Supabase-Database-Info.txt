[
  {
    "database_structure": {
      "tables": [
        {
          "table_name": "admin_permissions",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "48 kB",
          "estimated_rows": 1,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "admin_role_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "permission",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "admin_permissions_admin_role_id_fkey",
              "type": "FOREIGN KEY",
              "column": "admin_role_id",
              "foreign_table": "admin_roles",
              "foreign_column": "id"
            },
            {
              "name": "admin_permissions_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "admin_permissions",
              "foreign_column": "id"
            },
            {
              "name": "unique_role_permission",
              "type": "UNIQUE",
              "column": "admin_role_id",
              "foreign_table": "admin_permissions",
              "foreign_column": "admin_role_id"
            },
            {
              "name": "unique_role_permission",
              "type": "UNIQUE",
              "column": "admin_role_id",
              "foreign_table": "admin_permissions",
              "foreign_column": "permission"
            },
            {
              "name": "unique_role_permission",
              "type": "UNIQUE",
              "column": "permission",
              "foreign_table": "admin_permissions",
              "foreign_column": "admin_role_id"
            },
            {
              "name": "unique_role_permission",
              "type": "UNIQUE",
              "column": "permission",
              "foreign_table": "admin_permissions",
              "foreign_column": "permission"
            },
            {
              "name": "2200_93469_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93469_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93469_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93469_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93469_5_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "admin_permissions_pkey",
              "definition": "CREATE UNIQUE INDEX admin_permissions_pkey ON public.admin_permissions USING btree (id)"
            },
            {
              "name": "unique_role_permission",
              "definition": "CREATE UNIQUE INDEX unique_role_permission ON public.admin_permissions USING btree (admin_role_id, permission)"
            }
          ],
          "rls_policies": [
            {
              "name": "Enable read access for all users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "true"
            }
          ]
        },
        {
          "table_name": "admin_roles",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "40 kB",
          "estimated_rows": 1,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "admin_roles_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "admin_roles",
              "foreign_column": "id"
            },
            {
              "name": "admin_roles_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "unique_player_role",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "admin_roles",
              "foreign_column": "player_id"
            },
            {
              "name": "2200_93454_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93454_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93454_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_93454_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "admin_roles_pkey",
              "definition": "CREATE UNIQUE INDEX admin_roles_pkey ON public.admin_roles USING btree (id)"
            },
            {
              "name": "unique_player_role",
              "definition": "CREATE UNIQUE INDEX unique_player_role ON public.admin_roles USING btree (player_id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Enable read access for all users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "true"
            }
          ]
        },
        {
          "table_name": "balanced_team_assignments",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "32 kB",
          "estimated_rows": 0,
          "columns": [
            {
              "name": "game_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "team_assignments",
              "type": "jsonb",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "attack_differential",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "defense_differential",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "total_differential",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "experience_differential",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "balanced_team_assignments_game_id_fkey",
              "type": "FOREIGN KEY",
              "column": "game_id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "balanced_team_assignments_pkey",
              "type": "PRIMARY KEY",
              "column": "game_id",
              "foreign_table": "balanced_team_assignments",
              "foreign_column": "game_id"
            },
            {
              "name": "2200_86716_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_86716_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_86716_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "balanced_team_assignments_pkey",
              "definition": "CREATE UNIQUE INDEX balanced_team_assignments_pkey ON public.balanced_team_assignments USING btree (game_id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Enable read access for authenticated users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Enable insert access for authenticated users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Enable update access for authenticated users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "UPDATE",
              "definition": "true"
            },
            {
              "name": "Enable delete access for authenticated users",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "DELETE",
              "definition": "true"
            }
          ]
        },
        {
          "table_name": "game_registrations",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "312 kB",
          "estimated_rows": 529,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "gen_random_uuid()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "game_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": 29,
              "most_common_values": "{0bcdcaa7-97ac-42dc-ba57-2cf72a5b71ef,9030ab33-efb9-4763-9fd3-e30c87b6b20d,08a33fb7-7677-41c2-8baa-0375c1f4d9c2,1afd7965-a642-40ad-9d23-57e607c8f835,2ca68eac-a8b1-45d7-9c10-f0803800e1f7,3332c2d8-8600-4ba6-9029-26fa6190be96,34078038-5c66-4cba-a6e1-a41d732dcebe,3808f43c-6b2e-4c6c-bb1f-71702e119cff,3b1d39cf-3201-4053-80ab-c2bf95b7613a,3d03f1f9-5b12-41dd-a72e-214cf73f4fb6,42417771-801c-46ec-8d6e-ebefbcd0fb04,43cef2a8-9c8c-48f7-9124-8ab6b17de301,54bc6b11-ea09-42d0-9f56-dd38809c669e,5aa66610-9141-478c-804f-97191da0198f,95fc8176-f956-4f3b-bf01-9488e17ebbaa,ae6c1dfa-39c3-465c-890f-3fe6ab5f4bc9,e3c77ca3-1210-4a14-bc74-f99f5ec554b9,eb444d7d-e9d4-4207-bc88-fec8109ebdf2,f360829a-1586-4ffa-ad25-28789c28d903,4cc10211-be50-4611-bc85-d59d16399a6b,11cbf31e-b275-4fee-a5f6-d9468caf3d10,4e4c4605-22ef-4138-b088-3cd9d5b65d2d,5125c991-ade2-454e-86ea-27d116e0abf5,57fea9a1-765e-406c-b182-883d2720d99c,68e251b3-a23a-4a31-886a-07f171067de0,b52a8b13-f411-46a9-b9ba-3c858f74e2d5,83ca5ef5-7a7c-406d-8d25-7ccb9500db05,ea863f1a-b7da-4169-aae6-04c33f3dbce4,37725ca3-8857-411d-8e38-4135d9317bad}",
              "most_common_frequencies": "{0.102079,0.0415879,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0340265,0.0321361,0.0302457,0.0302457,0.0302457,0.0302457,0.0302457,0.0302457,0.0226843,0.0226843,0.0189036}"
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": -0.102079,
              "most_common_values": "{2711aec5-829a-4569-a85f-ecf8c89f123d,1db2da77-3c88-4bda-989b-349b4cab6604,876113b5-d7c3-41bc-ab69-4b6859f864a5,904a7c17-c8cc-4aff-958d-7788dea001dc,8e7c2ed7-9850-411a-a1e3-eddd3d3b74cd,eb0d48cc-bc0c-4c73-8744-26518b8b6083,489fd3c5-73e4-4be9-9058-3fcb04dcad5d,81c9ec8f-7b81-4263-879e-b2088aefaca8,fbbb2730-3fe7-4a0c-9fba-9d375c0ff2e5,5c0e1219-9355-4078-b76d-a63ec320969c,8af191dc-5e8f-4fe9-a5f0-97fe316b0004,3a712b45-cd7e-4e66-a6dd-133255be5895,84c631df-a046-41e9-a10c-4a77561e6c08,8ad90589-7135-461f-b61d-272cbf3f6d04,be32d4f4-d8a2-4ac4-8fb2-21879753581c,b2466431-ede1-4eaa-a86e-ad0c7128b125,5d401fa5-157f-445f-9f06-def9de2ae6ce,32f8ab9b-1259-4764-b463-aa2e70ca8c74,a950fdd0-847e-4f4d-96f5-9064719c8953,dd6651f8-9203-4efb-92ca-e2b6f8230f97,05bb40f8-d63f-4469-9a35-e466d1f2f1da,694e67d6-e9d9-49f9-9a8a-1ea4bada9ae4,bca1e452-a4c1-4ecc-bc95-8c17c3974e8d,e5472c2e-b3b7-4fa6-b1c7-f4221cb4beca,18ebd05e-2357-44c6-a49d-d280ceed7784,be3517a2-68e2-4884-85f9-18eb16eebdd0,c465ed34-a5df-42ef-9332-3273a72f4c4d,0c2096c3-6eca-4582-b2a1-2166d2c8d61e,78ba8339-270a-4d10-b7f6-f10999568948,9082191f-69ff-469f-baa6-46cc918346ae,d31a40f9-1972-43e9-9864-277110c9e958,5200018e-14e6-46a0-8dff-2aa113ea6b8e,52128184-ee7e-44c6-8c65-31acee1b6843,56b37bdf-5f8b-4110-91b2-e55f6e83eb30,75e00430-067e-44af-b498-84b28edd51be,8481aae6-f7e9-41b1-9a93-77a9fd8e800f,ba4d8e2a-5559-4cfe-a7a1-92e6d03efe65,c83d54c5-3468-4fde-b2b6-220034bb7480,d3920bbc-a281-4b97-bc88-96315e38d3ba,0bfd9afb-285d-474b-86cc-c91ab64c5622,22e64ff0-c283-47a4-a445-91f7f7194373,2806705a-9b9f-4437-b9bb-ca6489404484,2d7bd29f-85c0-4593-bdcf-eb2102445cfc,33443732-814b-4407-bbf0-8b30b57ef390,5e23dccd-8454-4c69-96a8-ec5b1d0ec54c,667be1e9-a840-4368-a40a-ed9e89dcf055,6e34ce3e-bbcd-4ba7-812e-32b0c39192fb,767cc150-1746-4d71-a8db-b9771f2f7770,813eac3e-b880-4988-823f-a345c5d6ed87,a0a34603-1309-4c2c-9064-02e62cda7d41,a298edef-70b4-4805-95eb-f921c50c2838,d909f3d1-18e3-4637-9ab4-bd05e81f87af,e790c8d4-4068-4f9e-b34f-633e392c562e,ee7ff6aa-3a38-47e7-92b5-060342521a61}",
              "most_common_frequencies": "{0.0491493,0.047259,0.047259,0.047259,0.0453686,0.0453686,0.0434783,0.0415879,0.0415879,0.0396975,0.0396975,0.0378072,0.0340265,0.0321361,0.0321361,0.0302457,0.0283554,0.026465,0.026465,0.026465,0.0245747,0.0245747,0.0132325,0.0132325,0.0113422,0.0094518,0.0094518,0.00756144,0.00756144,0.00756144,0.00756144,0.00567108,0.00567108,0.00567108,0.00567108,0.00567108,0.00567108,0.00567108,0.00567108,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072,0.00378072}"
            },
            {
              "name": "status",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": 2,
              "most_common_values": "{selected,registered}",
              "most_common_frequencies": "{0.897921,0.102079}"
            },
            {
              "name": "team",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": 2,
              "most_common_values": "{orange,blue}",
              "most_common_frequencies": "{0.449905,0.448015}"
            },
            {
              "name": "paid",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 6,
              "n_distinct": 1,
              "most_common_values": "{f}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "timezone('utc'::text, now())",
              "description": null,
              "position": 8,
              "n_distinct": -0.109641,
              "most_common_values": "{\"2024-12-24 12:20:48.737+00\",\"2024-12-24 12:20:48.736+00\",\"2024-11-15 15:32:28.417896+00\",\"2024-11-15 15:32:28.534694+00\",\"2024-11-11 17:26:09.811064+00\",\"2024-11-11 17:26:09.87908+00\",\"2024-11-11 17:29:00.404629+00\",\"2024-11-11 17:29:00.459064+00\",\"2024-11-11 17:32:33.391191+00\",\"2024-11-11 17:32:33.448724+00\",\"2024-11-15 10:49:59.018562+00\",\"2024-11-15 10:49:59.08566+00\",\"2024-11-15 15:25:20.731293+00\",\"2024-11-15 15:25:20.808342+00\",\"2024-11-15 15:36:14.785982+00\",\"2024-11-15 15:36:14.850174+00\",\"2024-11-15 15:41:05.987294+00\",\"2024-11-15 15:41:06.072672+00\",\"2024-11-15 15:45:17.925549+00\",\"2024-11-15 15:45:18.031348+00\",\"2024-11-15 15:48:49.304042+00\",\"2024-11-15 15:48:49.38855+00\",\"2024-11-15 15:51:48.368044+00\",\"2024-11-15 15:51:48.4376+00\",\"2024-11-15 16:04:25.477469+00\",\"2024-11-15 16:04:25.53922+00\",\"2024-11-15 23:40:49.259957+00\",\"2024-11-15 23:40:49.328407+00\",\"2024-11-16 00:17:38.660113+00\",\"2024-11-16 00:17:38.724796+00\",\"2024-11-16 00:19:23.127238+00\",\"2024-11-16 00:19:23.174666+00\",\"2024-11-28 09:22:39.830321+00\",\"2024-11-28 09:22:39.89501+00\",\"2024-12-16 09:51:53.718502+00\",\"2024-12-19 13:43:26.197049+00\",\"2024-12-19 13:43:26.287209+00\",\"2024-12-19 15:03:42.562721+00\",\"2024-12-19 15:03:42.638915+00\",\"2024-11-11 17:23:18.874391+00\",\"2024-11-11 17:23:18.9478+00\",\"2024-11-15 11:09:28.958801+00\",\"2024-11-15 11:09:29.03145+00\",\"2024-11-15 15:26:50.716691+00\",\"2024-11-15 15:26:50.783285+00\",\"2024-11-15 16:06:28.923613+00\",\"2024-11-15 16:06:28.989375+00\",\"2024-11-20 23:47:31.706078+00\",\"2024-11-20 23:47:31.788576+00\",\"2024-12-05 15:13:54.754434+00\",\"2024-12-05 15:13:54.85387+00\",\"2024-12-16 09:51:53.602842+00\",\"2024-11-11 17:07:30.569145+00\",\"2024-11-11 17:07:30.662434+00\",\"2024-11-11 17:18:03.786984+00\",\"2024-11-11 17:18:03.847411+00\",\"2024-11-11 17:02:27.557002+00\",\"2024-11-11 17:02:27.617386+00\"}",
              "most_common_frequencies": "{0.0793951,0.0226843,0.020794,0.020794,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0170132,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0151229,0.0113422,0.0113422,0.0113422,0.0113422,0.0094518,0.0094518}"
            },
            {
              "name": "paid_by_player_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 10,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "payment_recipient_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 11,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "payment_received_date",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 12,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "selection_method",
              "type": "text",
              "nullable": "NO",
              "default": "'none'::text",
              "description": null,
              "position": 13,
              "n_distinct": 2,
              "most_common_values": "{merit,none}",
              "most_common_frequencies": "{0.829868,0.170132}"
            }
          ],
          "constraints": [
            {
              "name": "game_registrations_game_id_fkey",
              "type": "FOREIGN KEY",
              "column": "game_id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "game_registrations_paid_by_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "paid_by_player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "game_registrations_payment_recipient_id_fkey",
              "type": "FOREIGN KEY",
              "column": "payment_recipient_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "game_registrations_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "game_registrations",
              "foreign_column": "id"
            },
            {
              "name": "game_registrations_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "game_registrations_selection_method_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "game_registrations",
              "foreign_column": "selection_method"
            },
            {
              "name": "game_registrations_status_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "game_registrations",
              "foreign_column": "status"
            },
            {
              "name": "game_registrations_team_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "game_registrations",
              "foreign_column": "team"
            },
            {
              "name": "unique_game_player",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "game_registrations",
              "foreign_column": "game_id"
            },
            {
              "name": "unique_game_player",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "game_registrations",
              "foreign_column": "player_id"
            },
            {
              "name": "unique_game_player",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "game_registrations",
              "foreign_column": "game_id"
            },
            {
              "name": "unique_game_player",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "game_registrations",
              "foreign_column": "player_id"
            },
            {
              "name": "2200_29630_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29630_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29630_13_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": [
            {
              "name": "update_streaks_trigger",
              "timing": "AFTER",
              "event": "INSERT",
              "statement": "EXECUTE FUNCTION update_player_streaks()"
            },
            {
              "name": "update_streaks_trigger",
              "timing": "AFTER",
              "event": "DELETE",
              "statement": "EXECUTE FUNCTION update_player_streaks()"
            },
            {
              "name": "update_streaks_trigger",
              "timing": "AFTER",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_player_streaks()"
            }
          ],
          "indexes": [
            {
              "name": "game_registrations_pkey",
              "definition": "CREATE UNIQUE INDEX game_registrations_pkey ON public.game_registrations USING btree (id)"
            },
            {
              "name": "unique_game_player",
              "definition": "CREATE UNIQUE INDEX unique_game_player ON public.game_registrations USING btree (game_id, player_id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Players can register themselves",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Players can update their own registration",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = game_registrations.player_id)))"
            },
            {
              "name": "Everyone can view game registrations",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Players can delete their own registration",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "DELETE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = game_registrations.player_id)))"
            },
            {
              "name": "Admins can register any player",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            }
          ]
        },
        {
          "table_name": "game_selections",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "288 kB",
          "estimated_rows": 2,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "game_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": -0.5,
              "most_common_values": "{52ae3c28-0d61-479a-be49-83ffb21f1f1b}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "selected_players",
              "type": "jsonb",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "reserve_players",
              "type": "jsonb",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "selection_metadata",
              "type": "jsonb",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "timezone('utc'::text, now())",
              "description": null,
              "position": 6,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "game_selections_game_id_fkey",
              "type": "FOREIGN KEY",
              "column": "game_id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "game_selections_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "game_selections",
              "foreign_column": "id"
            },
            {
              "name": "2200_61908_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_61908_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_61908_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_61908_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_61908_6_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "game_selections_pkey",
              "definition": "CREATE UNIQUE INDEX game_selections_pkey ON public.game_selections USING btree (id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Enable read access for all users",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Enable insert for authenticated users only",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            }
          ]
        },
        {
          "table_name": "games",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "80 kB",
          "estimated_rows": 29,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "gen_random_uuid()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "date",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "registration_window_start",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "registration_window_end",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "status",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": 1,
              "most_common_values": "{completed}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "score_blue",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 6,
              "n_distinct": -0.178571,
              "most_common_values": "{5,4,3}",
              "most_common_frequencies": "{0.178571,0.142857,0.0714286}"
            },
            {
              "name": "score_orange",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": -0.214286,
              "most_common_values": "{5,3}",
              "most_common_frequencies": "{0.178571,0.142857}"
            },
            {
              "name": "outcome",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 8,
              "n_distinct": -0.107143,
              "most_common_values": "{blue_win,orange_win,draw}",
              "most_common_frequencies": "{0.357143,0.25,0.0714286}"
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "timezone('utc'::text, now())",
              "description": null,
              "position": 9,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "venue_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 10,
              "n_distinct": 1,
              "most_common_values": "{abe7111c-c99b-47f6-9508-75234c70cd9f}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "max_players",
              "type": "integer",
              "nullable": "YES",
              "default": "18",
              "description": null,
              "position": 11,
              "n_distinct": -0.214286,
              "most_common_values": "{18,16,12}",
              "most_common_frequencies": "{0.607143,0.214286,0.0714286}"
            },
            {
              "name": "random_slots",
              "type": "integer",
              "nullable": "NO",
              "default": "2",
              "description": null,
              "position": 12,
              "n_distinct": 1,
              "most_common_values": "{0}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "is_historical",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 13,
              "n_distinct": 1,
              "most_common_values": "{t}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "sequence_number",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 14,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "pitch_cost",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 15,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "payment_link",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 16,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "needs_completion",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 17,
              "n_distinct": 1,
              "most_common_values": "{f}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "completed",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 18,
              "n_distinct": 2,
              "most_common_values": "{t,f}",
              "most_common_frequencies": "{0.928571,0.0714286}"
            },
            {
              "name": "teams_announced",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 19,
              "n_distinct": 1,
              "most_common_values": "{f}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "team_announcement_time",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 20,
              "n_distinct": -0.892857,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "check_needs_completion",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "created_at"
            },
            {
              "name": "check_needs_completion",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "needs_completion"
            },
            {
              "name": "check_needs_completion",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "outcome"
            },
            {
              "name": "check_needs_completion",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "score_blue"
            },
            {
              "name": "check_needs_completion",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "score_orange"
            },
            {
              "name": "games_outcome_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "outcome"
            },
            {
              "name": "games_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "games_status_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "status"
            },
            {
              "name": "games_venue_id_fkey",
              "type": "FOREIGN KEY",
              "column": "venue_id",
              "foreign_table": "venues",
              "foreign_column": "id"
            },
            {
              "name": "valid_dates",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "date"
            },
            {
              "name": "valid_dates",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "registration_window_end"
            },
            {
              "name": "valid_dates",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "registration_window_start"
            },
            {
              "name": "valid_score",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "score_blue"
            },
            {
              "name": "valid_score",
              "type": "CHECK",
              "column": null,
              "foreign_table": "games",
              "foreign_column": "score_orange"
            },
            {
              "name": "2200_29617_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29617_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29617_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29617_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29617_5_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_29617_12_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": [
            {
              "name": "game_sequence_insert",
              "timing": "AFTER",
              "event": "INSERT",
              "statement": "EXECUTE FUNCTION update_game_sequence_numbers()"
            },
            {
              "name": "game_sequence_update",
              "timing": "AFTER",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_game_sequence_numbers()"
            },
            {
              "name": "game_sequence_delete",
              "timing": "AFTER",
              "event": "DELETE",
              "statement": "EXECUTE FUNCTION update_game_sequence_numbers()"
            },
            {
              "name": "set_game_needs_completion",
              "timing": "BEFORE",
              "event": "INSERT",
              "statement": "EXECUTE FUNCTION update_game_needs_completion()"
            },
            {
              "name": "set_game_needs_completion",
              "timing": "BEFORE",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_game_needs_completion()"
            },
            {
              "name": "update_caps_on_game_completion",
              "timing": "AFTER",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_player_caps_on_game_completion()"
            }
          ],
          "indexes": [
            {
              "name": "games_pkey",
              "definition": "CREATE UNIQUE INDEX games_pkey ON public.games USING btree (id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Everyone can view games",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Only admins can insert games",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Only admins can update games",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.is_admin = true)))"
            },
            {
              "name": "Only admins can delete games",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "DELETE",
              "definition": "(auth.uid() IN ( SELECT p.user_id\n   FROM players p\n  WHERE (p.is_admin = true)))"
            },
            {
              "name": "Enable read access for all users",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            }
          ]
        },
        {
          "table_name": "notifications",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "304 kB",
          "estimated_rows": 176,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": -0.368794,
              "most_common_values": "{904a7c17-c8cc-4aff-958d-7788dea001dc,32f8ab9b-1259-4764-b463-aa2e70ca8c74,a950fdd0-847e-4f4d-96f5-9064719c8953,05bb40f8-d63f-4469-9a35-e466d1f2f1da,3a712b45-cd7e-4e66-a6dd-133255be5895,fbbb2730-3fe7-4a0c-9fba-9d375c0ff2e5,489fd3c5-73e4-4be9-9058-3fcb04dcad5d,5c0e1219-9355-4078-b76d-a63ec320969c,5d401fa5-157f-445f-9f06-def9de2ae6ce,694e67d6-e9d9-49f9-9a8a-1ea4bada9ae4,84c631df-a046-41e9-a10c-4a77561e6c08,8ad90589-7135-461f-b61d-272cbf3f6d04,b2466431-ede1-4eaa-a86e-ad0c7128b125,be32d4f4-d8a2-4ac4-8fb2-21879753581c,dd6651f8-9203-4efb-92ca-e2b6f8230f97,0c2096c3-6eca-4582-b2a1-2166d2c8d61e,18ebd05e-2357-44c6-a49d-d280ceed7784,22e64ff0-c283-47a4-a445-91f7f7194373,2d7bd29f-85c0-4593-bdcf-eb2102445cfc,33443732-814b-4407-bbf0-8b30b57ef390,5200018e-14e6-46a0-8dff-2aa113ea6b8e,52128184-ee7e-44c6-8c65-31acee1b6843,56b37bdf-5f8b-4110-91b2-e55f6e83eb30,75e00430-067e-44af-b498-84b28edd51be,78ba8339-270a-4d10-b7f6-f10999568948,8481aae6-f7e9-41b1-9a93-77a9fd8e800f,9082191f-69ff-469f-baa6-46cc918346ae,a0a34603-1309-4c2c-9064-02e62cda7d41,ba4d8e2a-5559-4cfe-a7a1-92e6d03efe65,bca1e452-a4c1-4ecc-bc95-8c17c3974e8d,be3517a2-68e2-4884-85f9-18eb16eebdd0,c465ed34-a5df-42ef-9332-3273a72f4c4d,c83d54c5-3468-4fde-b2b6-220034bb7480,d31a40f9-1972-43e9-9864-277110c9e958,d3920bbc-a281-4b97-bc88-96315e38d3ba,e5472c2e-b3b7-4fa6-b1c7-f4221cb4beca}",
              "most_common_frequencies": "{0.134752,0.12766,0.0425532,0.035461,0.0283688,0.0283688,0.0212766,0.0212766,0.0212766,0.0212766,0.0212766,0.0212766,0.0212766,0.0212766,0.0212766,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844}"
            },
            {
              "name": "type",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": 2,
              "most_common_values": "{slot_offer,system_message}",
              "most_common_frequencies": "{0.865248,0.134752}"
            },
            {
              "name": "message",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": 8,
              "most_common_values": "{\"A spot has opened up in WNF #28 on 19/12/2024. Would you like to join?\",\"A spot has opened up in WNF #28 on 25/12/2024. Would you like to join?\",\"A spot has opened up in WNF #28 on 20/12/2024. Would you like to join?\",\"Created 1 slot offers for WNF #28 on 25/12/2024\"}",
              "most_common_frequencies": "{0.609929,0.141844,0.113475,0.106383}"
            },
            {
              "name": "action_url",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 6,
              "n_distinct": -0.198582,
              "most_common_values": "{\"2024-12-18 13:32:20.472045+00\",\"2024-12-18 13:37:24.750385+00\",\"2024-12-18 13:38:19.784552+00\",\"2024-12-18 13:33:27.995256+00\",\"2024-12-18 13:33:30.240263+00\",\"2024-12-18 12:12:27.154562+00\",\"2024-12-18 12:36:21.430541+00\",\"2024-12-18 12:40:18.835381+00\",\"2024-12-18 12:43:18.459895+00\",\"2024-12-18 12:53:53.248127+00\",\"2024-12-18 13:00:15.83751+00\",\"2024-12-18 13:02:19.830649+00\",\"2024-12-18 13:04:20.844445+00\",\"2024-12-18 13:07:17.470682+00\",\"2024-12-18 13:12:21.528577+00\",\"2024-12-18 13:15:27.880739+00\",\"2024-12-18 13:19:27.300357+00\",\"2024-12-18 13:23:21.665639+00\",\"2024-12-18 13:25:24.27134+00\",\"2024-12-18 13:29:17.756585+00\",\"2024-12-18 13:44:24.704108+00\"}",
              "most_common_frequencies": "{0.29078,0.269504,0.106383,0.035461,0.0212766,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844,0.0141844}"
            },
            {
              "name": "read_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": -0.134752,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "expires_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 8,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "metadata",
              "type": "jsonb",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 9,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "notifications_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "notifications",
              "foreign_column": "id"
            },
            {
              "name": "notifications_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "notifications_type_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "notifications",
              "foreign_column": "type"
            },
            {
              "name": "2200_87098_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87098_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87098_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87098_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "notifications_pkey",
              "definition": "CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Players can create their own notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Admins can create all notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Service role can manage all notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "service_role"
              ],
              "command": "ALL",
              "definition": "true"
            },
            {
              "name": "Players can update their notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "UPDATE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = notifications.player_id)))"
            },
            {
              "name": "Admins can update all notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "UPDATE",
              "definition": "(EXISTS ( SELECT 1\n   FROM (admin_roles ar\n     JOIN players p ON ((p.id = ar.player_id)))\n  WHERE (p.user_id = auth.uid())))"
            },
            {
              "name": "Service role can manage notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "service_role"
              ],
              "command": "ALL",
              "definition": "true"
            },
            {
              "name": "Players can delete their notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "DELETE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = notifications.player_id)))"
            },
            {
              "name": "Admins can delete all notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "DELETE",
              "definition": "(EXISTS ( SELECT 1\n   FROM (admin_roles ar\n     JOIN players p ON ((p.id = ar.player_id)))\n  WHERE (p.user_id = auth.uid())))"
            },
            {
              "name": "Players can view their own notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = notifications.player_id)))"
            },
            {
              "name": "Players can update their own notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = notifications.player_id)))"
            },
            {
              "name": "Players can create notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Admins can create notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Players can view their notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "((auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = notifications.player_id))) OR (EXISTS ( SELECT 1\n   FROM ((admin_roles ar\n     JOIN admin_permissions ap ON ((ap.admin_role_id = ar.id)))\n     JOIN players p ON ((p.id = ar.player_id)))\n  WHERE ((p.user_id = auth.uid()) AND (ap.permission = 'manage_games'::text)))))"
            },
            {
              "name": "Admins can view all notifications",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "(EXISTS ( SELECT 1\n   FROM ((admin_roles ar\n     JOIN admin_permissions ap ON ((ap.admin_role_id = ar.id)))\n     JOIN players p ON ((p.id = ar.player_id)))\n  WHERE ((p.user_id = auth.uid()) AND (ap.permission = 'manage_games'::text))))"
            }
          ]
        },
        {
          "table_name": "payment_presets",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "16 kB",
          "estimated_rows": 0,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "name",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "now()",
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "payment_presets_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "payment_presets",
              "foreign_column": "id"
            },
            {
              "name": "payment_presets_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "2200_57816_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57816_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57816_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "payment_presets_pkey",
              "definition": "CREATE UNIQUE INDEX payment_presets_pkey ON public.payment_presets USING btree (id)"
            }
          ],
          "rls_policies": null
        },
        {
          "table_name": "player_penalties",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "48 kB",
          "estimated_rows": 0,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "game_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "penalty_type",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "expires_after_games",
              "type": "integer",
              "nullable": "NO",
              "default": "5",
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "games_remaining",
              "type": "integer",
              "nullable": "NO",
              "default": "5",
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "player_penalties_game_id_fkey",
              "type": "FOREIGN KEY",
              "column": "game_id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "player_penalties_penalty_type_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "player_penalties",
              "foreign_column": "penalty_type"
            },
            {
              "name": "player_penalties_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "player_penalties",
              "foreign_column": "id"
            },
            {
              "name": "player_penalties_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "player_penalties",
              "foreign_column": "player_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "player_penalties",
              "foreign_column": "game_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "player_penalties",
              "foreign_column": "penalty_type"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "player_penalties",
              "foreign_column": "player_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "player_penalties",
              "foreign_column": "game_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "player_penalties",
              "foreign_column": "penalty_type"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "penalty_type",
              "foreign_table": "player_penalties",
              "foreign_column": "player_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "penalty_type",
              "foreign_table": "player_penalties",
              "foreign_column": "game_id"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "type": "UNIQUE",
              "column": "penalty_type",
              "foreign_table": "player_penalties",
              "foreign_column": "penalty_type"
            },
            {
              "name": "2200_87010_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87010_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87010_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87010_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87010_6_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_87010_7_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "player_penalties_pkey",
              "definition": "CREATE UNIQUE INDEX player_penalties_pkey ON public.player_penalties USING btree (id)"
            },
            {
              "name": "player_penalties_player_id_game_id_penalty_type_key",
              "definition": "CREATE UNIQUE INDEX player_penalties_player_id_game_id_penalty_type_key ON public.player_penalties USING btree (player_id, game_id, penalty_type)"
            }
          ],
          "rls_policies": [
            {
              "name": "Players can view their own penalties",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "(auth.uid() IN ( SELECT players.user_id\n   FROM players\n  WHERE (players.id = player_penalties.player_id)))"
            },
            {
              "name": "Players can add same-day dropout penalties to themselves",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            }
          ]
        },
        {
          "table_name": "player_ratings",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "48 kB",
          "estimated_rows": 22,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "rater_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "rated_player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "attack_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "defense_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "cannot_rate_self",
              "type": "CHECK",
              "column": null,
              "foreign_table": "player_ratings",
              "foreign_column": "rated_player_id"
            },
            {
              "name": "cannot_rate_self",
              "type": "CHECK",
              "column": null,
              "foreign_table": "player_ratings",
              "foreign_column": "rater_id"
            },
            {
              "name": "player_ratings_attack_rating_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "player_ratings",
              "foreign_column": "attack_rating"
            },
            {
              "name": "player_ratings_defense_rating_check",
              "type": "CHECK",
              "column": null,
              "foreign_table": "player_ratings",
              "foreign_column": "defense_rating"
            },
            {
              "name": "player_ratings_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "player_ratings",
              "foreign_column": "id"
            },
            {
              "name": "player_ratings_rated_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "rated_player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "player_ratings_rater_id_fkey",
              "type": "FOREIGN KEY",
              "column": "rater_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "unique_rating_pair",
              "type": "UNIQUE",
              "column": "rater_id",
              "foreign_table": "player_ratings",
              "foreign_column": "rater_id"
            },
            {
              "name": "unique_rating_pair",
              "type": "UNIQUE",
              "column": "rater_id",
              "foreign_table": "player_ratings",
              "foreign_column": "rated_player_id"
            },
            {
              "name": "unique_rating_pair",
              "type": "UNIQUE",
              "column": "rated_player_id",
              "foreign_table": "player_ratings",
              "foreign_column": "rater_id"
            },
            {
              "name": "unique_rating_pair",
              "type": "UNIQUE",
              "column": "rated_player_id",
              "foreign_table": "player_ratings",
              "foreign_column": "rated_player_id"
            },
            {
              "name": "2200_69054_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_69054_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_69054_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": [
            {
              "name": "update_player_ratings_timestamp",
              "timing": "BEFORE",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_updated_at()"
            },
            {
              "name": "update_average_ratings",
              "timing": "AFTER",
              "event": "INSERT",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            },
            {
              "name": "update_average_ratings",
              "timing": "AFTER",
              "event": "DELETE",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            },
            {
              "name": "update_average_ratings",
              "timing": "AFTER",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            },
            {
              "name": "update_player_ratings_trigger",
              "timing": "AFTER",
              "event": "INSERT",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            },
            {
              "name": "update_player_ratings_trigger",
              "timing": "AFTER",
              "event": "DELETE",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            },
            {
              "name": "update_player_ratings_trigger",
              "timing": "AFTER",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION update_player_average_ratings()"
            }
          ],
          "indexes": [
            {
              "name": "player_ratings_pkey",
              "definition": "CREATE UNIQUE INDEX player_ratings_pkey ON public.player_ratings USING btree (id)"
            },
            {
              "name": "unique_rating_pair",
              "definition": "CREATE UNIQUE INDEX unique_rating_pair ON public.player_ratings USING btree (rater_id, rated_player_id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Players can rate others they've played with",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "ALL",
              "definition": "(EXISTS ( SELECT 1\n   FROM players\n  WHERE ((players.id = player_ratings.rater_id) AND (players.user_id = auth.uid()))))"
            }
          ]
        },
        {
          "table_name": "player_stats",
          "table_type": "VIEW",
          "description": null,
          "total_size": "0 bytes",
          "estimated_rows": 0,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "user_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "friendly_name",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "caps",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "active_bonuses",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "active_penalties",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "win_rate",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "attack_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 8,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "defense_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 9,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "avatar_svg",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 10,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "avatar_options",
              "type": "jsonb",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 11,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "current_streak",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 12,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "max_streak",
              "type": "integer",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 13,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": null,
          "triggers": null,
          "indexes": null,
          "rls_policies": null
        },
        {
          "table_name": "players",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "208 kB",
          "estimated_rows": 54,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "gen_random_uuid()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "user_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": -0.0185185,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "friendly_name",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "caps",
              "type": "integer",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 5,
              "n_distinct": -0.351852,
              "most_common_values": "{1,2,3,13,24,4,6,12,16,20,21,23}",
              "most_common_frequencies": "{0.277778,0.148148,0.0740741,0.0555556,0.0555556,0.037037,0.037037,0.037037,0.037037,0.037037,0.037037,0.037037}"
            },
            {
              "name": "win_rate",
              "type": "numeric",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 7,
              "n_distinct": 1,
              "most_common_values": "{0.00}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "active_bonuses",
              "type": "integer",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 8,
              "n_distinct": 1,
              "most_common_values": "{0}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "active_penalties",
              "type": "integer",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 9,
              "n_distinct": 1,
              "most_common_values": "{0}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "timezone('utc'::text, now())",
              "description": null,
              "position": 10,
              "n_distinct": -0.12963,
              "most_common_values": "{\"2024-11-11 15:52:58.97872+00\"}",
              "most_common_frequencies": "{0.888889}"
            },
            {
              "name": "is_admin",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 11,
              "n_distinct": 2,
              "most_common_values": "{f}",
              "most_common_frequencies": "{0.981481}"
            },
            {
              "name": "is_super_admin",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 12,
              "n_distinct": 2,
              "most_common_values": "{f}",
              "most_common_frequencies": "{0.981481}"
            },
            {
              "name": "avatar_svg",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 13,
              "n_distinct": -0.0185185,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "avatar_options",
              "type": "jsonb",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 14,
              "n_distinct": -0.0185185,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "attack_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 15,
              "n_distinct": -0.185185,
              "most_common_values": "{0,6.0000000000000000,7.0000000000000000,5.0000000000000000,8.0000000000000000,9.0000000000000000}",
              "most_common_frequencies": "{0.537037,0.12963,0.111111,0.0740741,0.037037,0.037037}"
            },
            {
              "name": "defense_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 16,
              "n_distinct": -0.166667,
              "most_common_values": "{0,4.0000000000000000,7.0000000000000000,5.0000000000000000,6.0000000000000000,8.0000000000000000}",
              "most_common_frequencies": "{0.537037,0.0925926,0.0925926,0.0740741,0.0740741,0.0740741}"
            },
            {
              "name": "is_test_user",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 17,
              "n_distinct": 2,
              "most_common_values": "{t}",
              "most_common_frequencies": "{0.981481}"
            },
            {
              "name": "manual_caps_override",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 18,
              "n_distinct": 1,
              "most_common_values": "{f}",
              "most_common_frequencies": "{1}"
            },
            {
              "name": "current_streak",
              "type": "integer",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 19,
              "n_distinct": -0.148148,
              "most_common_values": "{0,2,3,1,4}",
              "most_common_frequencies": "{0.666667,0.0925926,0.0740741,0.0555556,0.0555556}"
            },
            {
              "name": "max_streak",
              "type": "integer",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 20,
              "n_distinct": -0.259259,
              "most_common_values": "{1,2,3,4,5,6,11,8,12,13}",
              "most_common_frequencies": "{0.462963,0.0740741,0.0555556,0.0555556,0.0555556,0.0555556,0.0555556,0.037037,0.037037,0.037037}"
            },
            {
              "name": "average_attack_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 21,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "average_defense_rating",
              "type": "numeric",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 22,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "players_friendly_name_key",
              "type": "UNIQUE",
              "column": "friendly_name",
              "foreign_table": "players",
              "foreign_column": "friendly_name"
            },
            {
              "name": "players_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "players_user_id_fkey",
              "type": "FOREIGN KEY",
              "column": "user_id",
              "foreign_table": "users",
              "foreign_column": "id"
            },
            {
              "name": "valid_win_rate",
              "type": "CHECK",
              "column": null,
              "foreign_table": "players",
              "foreign_column": "win_rate"
            },
            {
              "name": "2200_28996_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_28996_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "players_pkey",
              "definition": "CREATE UNIQUE INDEX players_pkey ON public.players USING btree (id)"
            },
            {
              "name": "players_friendly_name_key",
              "definition": "CREATE UNIQUE INDEX players_friendly_name_key ON public.players USING btree (friendly_name)"
            },
            {
              "name": "players_user_id_idx",
              "definition": "CREATE INDEX players_user_id_idx ON public.players USING btree (user_id)"
            },
            {
              "name": "players_friendly_name_idx",
              "definition": "CREATE INDEX players_friendly_name_idx ON public.players USING btree (friendly_name)"
            }
          ],
          "rls_policies": [
            {
              "name": "Enable read access for all users",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Users can update their own profile",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(auth.uid() = id)"
            },
            {
              "name": "Users can create their profile",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Super admins can update any player",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(EXISTS ( SELECT 1\n   FROM players players_1\n  WHERE ((players_1.id = auth.uid()) AND (players_1.is_super_admin = true))))"
            },
            {
              "name": "Super admins can delete players",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "DELETE",
              "definition": "(EXISTS ( SELECT 1\n   FROM players p\n  WHERE ((p.user_id = auth.uid()) AND (p.is_super_admin = true))))"
            },
            {
              "name": "Allow creation of regular and test users",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            },
            {
              "name": "Enable update for authenticated users",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "UPDATE",
              "definition": "(auth.role() = 'authenticated'::text)"
            },
            {
              "name": "Users can create their own player profile",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "INSERT",
              "definition": null
            }
          ]
        },
        {
          "table_name": "slot_offers",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "72 kB",
          "estimated_rows": 0,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "game_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "player_id",
              "type": "uuid",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "status",
              "type": "USER-DEFINED",
              "nullable": "NO",
              "default": "'pending'::slot_offer_status",
              "description": null,
              "position": 4,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "offered_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 5,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "responded_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": 0,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 8,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "NO",
              "default": "now()",
              "description": null,
              "position": 9,
              "n_distinct": -1,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "slot_offers_game_id_fkey",
              "type": "FOREIGN KEY",
              "column": "game_id",
              "foreign_table": "games",
              "foreign_column": "id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "slot_offers",
              "foreign_column": "game_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "slot_offers",
              "foreign_column": "player_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "game_id",
              "foreign_table": "slot_offers",
              "foreign_column": "status"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "slot_offers",
              "foreign_column": "game_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "slot_offers",
              "foreign_column": "player_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "player_id",
              "foreign_table": "slot_offers",
              "foreign_column": "status"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "status",
              "foreign_table": "slot_offers",
              "foreign_column": "game_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "status",
              "foreign_table": "slot_offers",
              "foreign_column": "player_id"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "type": "UNIQUE",
              "column": "status",
              "foreign_table": "slot_offers",
              "foreign_column": "status"
            },
            {
              "name": "slot_offers_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "slot_offers",
              "foreign_column": "id"
            },
            {
              "name": "slot_offers_player_id_fkey",
              "type": "FOREIGN KEY",
              "column": "player_id",
              "foreign_table": "players",
              "foreign_column": "id"
            },
            {
              "name": "2200_96255_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_5_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_8_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_96255_9_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": [
            {
              "name": "trigger_void_other_slot_offers",
              "timing": "BEFORE",
              "event": "UPDATE",
              "statement": "EXECUTE FUNCTION void_other_slot_offers()"
            }
          ],
          "indexes": [
            {
              "name": "idx_slot_offers_game_player",
              "definition": "CREATE INDEX idx_slot_offers_game_player ON public.slot_offers USING btree (game_id, player_id)"
            },
            {
              "name": "slot_offers_pkey",
              "definition": "CREATE UNIQUE INDEX slot_offers_pkey ON public.slot_offers USING btree (id)"
            },
            {
              "name": "slot_offers_game_id_player_id_status_key",
              "definition": "CREATE UNIQUE INDEX slot_offers_game_id_player_id_status_key ON public.slot_offers USING btree (game_id, player_id, status)"
            }
          ],
          "rls_policies": [
            {
              "name": "Players can view their own slot offers",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "SELECT",
              "definition": "(player_id IN ( SELECT players.id\n   FROM players\n  WHERE (players.user_id = auth.uid())))"
            },
            {
              "name": "Players can update their own slot offers",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "UPDATE",
              "definition": "(player_id IN ( SELECT players.id\n   FROM players\n  WHERE (players.user_id = auth.uid())))"
            },
            {
              "name": "Admins can manage slot offers",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "ALL",
              "definition": "(EXISTS ( SELECT 1\n   FROM ((admin_permissions ap\n     JOIN admin_roles ar ON ((ap.admin_role_id = ar.id)))\n     JOIN players p ON ((p.id = ar.player_id)))\n  WHERE ((p.user_id = auth.uid()) AND (ap.permission = 'manage_games'::text))))"
            }
          ]
        },
        {
          "table_name": "venue_presets",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "32 kB",
          "estimated_rows": 1,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "venue_id",
              "type": "uuid",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "name",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "day_of_week",
              "type": "USER-DEFINED",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "start_time",
              "type": "time without time zone",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "registration_hours_before",
              "type": "integer",
              "nullable": "NO",
              "default": "48",
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "registration_hours_until",
              "type": "integer",
              "nullable": "NO",
              "default": "1",
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 8,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "CURRENT_TIMESTAMP",
              "description": null,
              "position": 9,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "pitch_cost",
              "type": "numeric",
              "nullable": "YES",
              "default": "0",
              "description": null,
              "position": 10,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "team_announcement_hours",
              "type": "integer",
              "nullable": "NO",
              "default": "4",
              "description": null,
              "position": 11,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "venue_presets_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "venue_presets",
              "foreign_column": "id"
            },
            {
              "name": "venue_presets_venue_id_fkey",
              "type": "FOREIGN KEY",
              "column": "venue_id",
              "foreign_table": "venues",
              "foreign_column": "id"
            },
            {
              "name": "2200_57405_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_4_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_5_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_6_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_7_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_57405_11_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "venue_presets_pkey",
              "definition": "CREATE UNIQUE INDEX venue_presets_pkey ON public.venue_presets USING btree (id)"
            }
          ],
          "rls_policies": [
            {
              "name": "Allow public read access",
              "permissive": "PERMISSIVE",
              "roles": [
                "public"
              ],
              "command": "SELECT",
              "definition": "true"
            },
            {
              "name": "Allow admin write access",
              "permissive": "PERMISSIVE",
              "roles": [
                "authenticated"
              ],
              "command": "ALL",
              "definition": "(EXISTS ( SELECT 1\n   FROM players\n  WHERE ((players.user_id = auth.uid()) AND (players.is_admin = true))))"
            }
          ]
        },
        {
          "table_name": "venues",
          "table_type": "BASE TABLE",
          "description": null,
          "total_size": "32 kB",
          "estimated_rows": 1,
          "columns": [
            {
              "name": "id",
              "type": "uuid",
              "nullable": "NO",
              "default": "uuid_generate_v4()",
              "description": null,
              "position": 1,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "name",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 2,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "address",
              "type": "text",
              "nullable": "NO",
              "default": null,
              "description": null,
              "position": 3,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "is_default",
              "type": "boolean",
              "nullable": "YES",
              "default": "false",
              "description": null,
              "position": 4,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "created_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "now()",
              "description": null,
              "position": 5,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "updated_at",
              "type": "timestamp with time zone",
              "nullable": "YES",
              "default": "now()",
              "description": null,
              "position": 6,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            },
            {
              "name": "google_maps_url",
              "type": "text",
              "nullable": "YES",
              "default": null,
              "description": null,
              "position": 7,
              "n_distinct": null,
              "most_common_values": null,
              "most_common_frequencies": null
            }
          ],
          "constraints": [
            {
              "name": "venues_pkey",
              "type": "PRIMARY KEY",
              "column": "id",
              "foreign_table": "venues",
              "foreign_column": "id"
            },
            {
              "name": "2200_30948_1_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_30948_2_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            },
            {
              "name": "2200_30948_3_not_null",
              "type": "CHECK",
              "column": null,
              "foreign_table": null,
              "foreign_column": null
            }
          ],
          "triggers": null,
          "indexes": [
            {
              "name": "venues_pkey",
              "definition": "CREATE UNIQUE INDEX venues_pkey ON public.venues USING btree (id)"
            }
          ],
          "rls_policies": null
        }
      ],
      "enums": [
        {
          "name": "admin_permission",
          "values": [
            "manage_games",
            "manage_players",
            "manage_teams",
            "manage_payments",
            "manage_admins",
            "manage_history"
          ]
        },
        {
          "name": "day_of_week",
          "values": [
            "monday",
            "tuesday",
            "wednesday",
            "thursday",
            "friday",
            "saturday",
            "sunday"
          ]
        },
        {
          "name": "notification_type",
          "values": [
            "slot_offer",
            "admin_slot_offer",
            "game_update",
            "system_message"
          ]
        },
        {
          "name": "slot_offer_status",
          "values": [
            "pending",
            "accepted",
            "declined",
            "expired",
            "voided"
          ]
        }
      ],
      "sequences": null,
      "functions": [
        {
          "name": "calculate_player_caps",
          "arguments": "player_id uuid",
          "return_type": "integer",
          "description": null
        },
        {
          "name": "calculate_balanced_teams",
          "arguments": "input_game_id uuid",
          "return_type": "TABLE(team text, player_id uuid, friendly_name text, attack_rating numeric, defense_rating numeric, experience_factor numeric)",
          "description": null
        },
        {
          "name": "get_balanced_teams",
          "arguments": "game_id uuid",
          "return_type": "jsonb",
          "description": null
        },
        {
          "name": "delete_game_cascade",
          "arguments": "game_id uuid",
          "return_type": "void",
          "description": null
        },
        {
          "name": "update_player_caps_on_game_completion",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "balance_teams",
          "arguments": "game_id uuid",
          "return_type": "void",
          "description": null
        },
        {
          "name": "process_team_announcements",
          "arguments": "",
          "return_type": "void",
          "description": null
        },
        {
          "name": "expire_slot_offers",
          "arguments": "",
          "return_type": "void",
          "description": null
        },
        {
          "name": "reset_game_selection",
          "arguments": "game_id uuid",
          "return_type": "void",
          "description": null
        },
        {
          "name": "handle_slot_offer_response",
          "arguments": "p_offer_id uuid, p_status text",
          "return_type": "void",
          "description": null
        },
        {
          "name": "update_player_streaks",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "add_admin_role",
          "arguments": "p_player_id uuid, p_permissions text[]",
          "return_type": "uuid",
          "description": null
        },
        {
          "name": "get_team_color_stats",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(winning_color text, win_rate numeric)",
          "description": null
        },
        {
          "name": "handle_registration_close",
          "arguments": "input_game_id uuid",
          "return_type": "void",
          "description": null
        },
        {
          "name": "update_player_average_ratings",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "get_player_team_colors",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(id uuid, friendly_name text, team text, team_frequency numeric, caps integer)",
          "description": null
        },
        {
          "name": "log_debug",
          "arguments": "message text",
          "return_type": "void",
          "description": null
        },
        {
          "name": "update_game_needs_completion",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "get_game_years",
          "arguments": "",
          "return_type": "TABLE(year integer)",
          "description": null
        },
        {
          "name": "check_games_played_together",
          "arguments": "player1_id uuid, player2_id uuid",
          "return_type": "integer",
          "description": null
        },
        {
          "name": "check_rating_eligibility",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "get_reserve_players_by_xp",
          "arguments": "p_game_id uuid",
          "return_type": "TABLE(player_id uuid, xp numeric, rank integer)",
          "description": null
        },
        {
          "name": "get_players_with_game_count",
          "arguments": "current_player_id uuid",
          "return_type": "TABLE(id uuid, friendly_name text, games_played bigint)",
          "description": null
        },
        {
          "name": "void_other_slot_offers",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "create_slot_offers_for_game",
          "arguments": "p_game_id uuid, p_admin_id uuid DEFAULT NULL::uuid, p_dropped_out_player_id uuid DEFAULT NULL::uuid",
          "return_type": "integer",
          "description": null
        },
        {
          "name": "get_next_slot_offer_players",
          "arguments": "p_game_id uuid, p_hours_until_game numeric",
          "return_type": "TABLE(player_id uuid)",
          "description": null
        },
        {
          "name": "update_updated_at",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "get_player_stats",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(id uuid, friendly_name text, caps integer, win_rate numeric, current_streak integer, max_streak integer, recent_games integer)",
          "description": null
        },
        {
          "name": "calculate_player_streaks",
          "arguments": "player_id uuid",
          "return_type": "TABLE(current_streak integer, max_streak integer)",
          "description": null
        },
        {
          "name": "handle_slot_offer_response",
          "arguments": "p_offer_id uuid, p_status slot_offer_status",
          "return_type": "void",
          "description": null
        },
        {
          "name": "handle_slot_offer_response_text",
          "arguments": "p_offer_id uuid, p_status text",
          "return_type": "void",
          "description": null
        },
        {
          "name": "update_game_sequence_numbers",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "get_player_caps",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(id uuid, friendly_name text, total_games integer)",
          "description": null
        },
        {
          "name": "get_player_attendance_streaks",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(id uuid, friendly_name text, current_streak integer, max_streak integer)",
          "description": null
        },
        {
          "name": "handle_slot_offer_response_text",
          "arguments": "p_game_id uuid, p_player_id uuid, p_response text",
          "return_type": "text",
          "description": null
        },
        {
          "name": "create_slot_offers",
          "arguments": "p_game_id uuid",
          "return_type": "void",
          "description": null
        },
        {
          "name": "get_player_win_rates",
          "arguments": "target_year integer DEFAULT NULL::integer",
          "return_type": "TABLE(id uuid, friendly_name text, total_games integer, wins integer, draws integer, losses integer, win_rate numeric)",
          "description": null
        },
        {
          "name": "get_best_buddies",
          "arguments": "",
          "return_type": "TABLE(id uuid, friendly_name text, buddy_id uuid, buddy_friendly_name text, games_together bigint)",
          "description": null
        },
        {
          "name": "update_updated_at_column",
          "arguments": "",
          "return_type": "trigger",
          "description": null
        },
        {
          "name": "has_permission",
          "arguments": "permission_type admin_permission",
          "return_type": "boolean",
          "description": null
        },
        {
          "name": "grant_admin_role",
          "arguments": "target_player_id uuid, make_super_admin boolean DEFAULT false, permissions admin_permission[] DEFAULT NULL::admin_permission[]",
          "return_type": "void",
          "description": null
        },
        {
          "name": "promote_to_super_admin",
          "arguments": "target_user_id uuid",
          "return_type": "void",
          "description": null
        }
      ]
    }
  }
]